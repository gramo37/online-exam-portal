{"version":3,"file":"static/js/866.4720f2b0.chunk.js","mappings":"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","sources":["components/Auth/VerifyLink.js","../node_modules/@mui/icons-material/Check.js","../node_modules/@mui/icons-material/Token.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport LoadingBar from \"react-top-loading-bar\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport VisibilityOutlinedIcon from \"@mui/icons-material/VisibilityOutlined\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport VisibilityOffOutlinedIcon from \"@mui/icons-material/VisibilityOffOutlined\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport TokenIcon from '@mui/icons-material/Token';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { verifyLink, loadUser } from \"../../redux/actions/userAction\";\r\nimport { useAlert } from \"react-alert\";\r\nvar passwordValidator = require(\"password-validator\");\r\n\r\nconst VerifyLink = () => {\r\n  const [progress, setProgress] = useState(0);\r\n  // const { resetToken } = useParams();\r\n  var schema = new passwordValidator()\r\n\r\n  const dispatch = useDispatch();\r\n  const alert = useAlert();\r\n  const navigate = useNavigate()\r\n  const linkStatus = useSelector((state) => state.linkStatus);\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  const [password, setPassword] = useState({\r\n    resetToken: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   console.log(linkStatus)\r\n  //   if (linkStatus.error !== undefined && linkStatus.error !== \"\") {\r\n  //     alert.error(linkStatus.error.message)\r\n  //   } else if (linkStatus.linkStatus !== undefined && linkStatus.linkStatus !== \"\") {\r\n  //     alert.success(\"Password changed successfully. Please Login.\")\r\n  //     navigate(\"/home\")\r\n  //   }\r\n  // }, [linkStatus])\r\n\r\n  const changeHandler = (e) => {\r\n    setPassword({ ...password, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setProgress(20)\r\n\r\n    schema\r\n      .is().min(8, \"Paswword must be atleast 8 characters\") // Minimum length 8\r\n      .is().max(100, \"Paswword cannot exceed 100 characters\") // Maximum length 100\r\n      .has().uppercase(1, \"Paswword must contain atleast 1 uppercase characters\") // Must have uppercase letters\r\n      .has().lowercase(2, \"Paswword must contain atleast 2 lowercase characters\") // Must have lowercase letters\r\n      .has().digits(2, \"Paswword must contain atleast 2 digits\") // Must have at least 2 digits\r\n      .is().not().oneOf([\"Passw0rd\", \"Password123\", \"abc123\", \"qwerty123\", \"123123\", \"000000\", \"password\", \"12345678\", \"Password\"], \"Password is too weak\");\r\n\r\n    const passwordValidations = schema.validate(password.password, { details: true })\r\n\r\n    if (passwordValidations.length !== 0) {\r\n      alert.error(passwordValidations[0].message)\r\n      setProgress(0);\r\n      return\r\n    }\r\n\r\n    setProgress(40)\r\n    await dispatch(verifyLink(password, password.resetToken));\r\n    await dispatch(loadUser());\r\n    setProgress(100)\r\n    alert.success(\"Password changed successfully.\")\r\n    navigate(\"/home\")\r\n    // console.log(password, resetToken);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoadingBar\r\n        color=\"#2b7a2b\"\r\n        height={4}\r\n        progress={progress}\r\n        onLoaderFinished={() => setProgress(0)}\r\n      />\r\n      <div className=\"flex justify-center items-center h-[100vh] w-full\">\r\n        <div className=\"flex flex-col justify-center items-stretch h-full w-full bg-white\">\r\n          <div className=\"flex items-center justify-center flex-col my-12\">\r\n            <div className=\"text-4xl text-green-600 my-2\">Reset Password</div>\r\n            <div className=\"sub-heading my-2 text-lg text-gray-400 italic\">\r\n              Please Set Your New Password.\r\n            </div>\r\n          </div>\r\n          <form\r\n            className=\"flex flex-col justify-center items-center\"\r\n            onChange={(e) => changeHandler(e)}\r\n            onSubmit={(e) => onSubmit(e)}\r\n          >\r\n\r\n            <div className=\"flex items-center\">\r\n              <div className=\"absolute ml-2\">\r\n                {/* <LockOutlinedIcon /> */}\r\n                <TokenIcon />\r\n              </div>\r\n              <input\r\n                className=\"bg-green-100 pl-12 py-3 my-2 rounded-md w-[18rem] sm:w-[20rem]\"\r\n                type=\"password\"\r\n                placeholder=\"Enter Token\"\r\n                name=\"resetToken\"\r\n                value={password.resetToken}\r\n              // onChange={(e)=>signupChangeHandler(e)}\r\n              />\r\n              <div\r\n                style={{ pointerEvents: \"none\" }}\r\n                className=\"translate-x-96 cursor-pointer opacity-0 \"\r\n              >\r\n                <VisibilityOutlinedIcon />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <div className=\"absolute ml-2\">\r\n                <LockOutlinedIcon />\r\n              </div>\r\n              <input\r\n                className=\"bg-green-100 pl-12 py-3 my-2 rounded-md w-[18rem] sm:w-[20rem]\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                value={password.password}\r\n              // onChange={(e)=>signupChangeHandler(e)}\r\n              />\r\n              <div\r\n                className=\"translate-x-96 cursor-pointer\"\r\n                onClick={() => {\r\n                  setShowPassword(!showPassword);\r\n                }}\r\n              >\r\n                {showPassword ? (\r\n                  <VisibilityOutlinedIcon />\r\n                ) : (\r\n                  <VisibilityOffOutlinedIcon />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <div className=\"absolute ml-2\">\r\n                <CheckIcon />\r\n              </div>\r\n              <input\r\n                className=\"bg-green-100 pl-12 py-3 my-2 rounded-md w-[18rem] sm:w-[20rem]\"\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Confirm Password\"\r\n                name=\"confirmPassword\"\r\n                value={password.confirmPassword}\r\n              // onChange={(e)=>signupChangeHandler(e)}\r\n              />\r\n              <div\r\n                className=\"translate-x-96 cursor-pointer\"\r\n                onClick={() => {\r\n                  setShowConfirmPassword(!showConfirmPassword);\r\n                }}\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <VisibilityOutlinedIcon />\r\n                ) : (\r\n                  <VisibilityOffOutlinedIcon />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                style={{ padding: \"10px\" }}\r\n                type=\"submit\"\r\n                className=\"rounded-full bg-green-500 mt-4 shadow-md text-white font-bold hover:bg-green-300\"\r\n              >\r\n                RESET PASSWORD\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerifyLink;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.97 6.43 12 2 4.03 6.43 9.1 9.24C9.83 8.48 10.86 8 12 8s2.17.48 2.9 1.24l5.07-2.81zM10 12c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm1 9.44L3 17V8.14l5.13 2.85c-.09.32-.13.66-.13 1.01 0 1.86 1.27 3.43 3 3.87v5.57zm2 0v-5.57c1.73-.44 3-2.01 3-3.87 0-.35-.04-.69-.13-1.01L21 8.14V17l-8 4.44z\"\n}), 'Token');\n\nexports.default = _default;"],"names":["passwordValidator","require","useState","progress","setProgress","schema","dispatch","useDispatch","alert","useAlert","navigate","useNavigate","useSelector","state","linkStatus","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","resetToken","password","confirmPassword","setPassword","onSubmit","e","preventDefault","is","min","max","has","uppercase","lowercase","digits","not","oneOf","passwordValidations","validate","details","length","error","message","verifyLink","loadUser","success","color","height","onLoaderFinished","className","onChange","target","name","value","changeHandler","type","placeholder","style","pointerEvents","onClick","padding","_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}
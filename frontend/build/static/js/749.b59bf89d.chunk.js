"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[749],{3749:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(5861),a=n(885),c=n(7757),u=n.n(c),o=n(2791),s=n(810),p=n(6030),i=n(6871),f=n(9166),l=n(184),d=function(e){var t=e.question,n=e.index,r=e.setAnswers,c=e.answers,u=(0,o.useState)(""),s=(0,a.Z)(u,2),p=s[0],i=s[1];(0,o.useEffect)((function(){console.log(p);for(var e=!1,n=0;n<c.length;n++){if(c[n].questionId===t._id){e=!0;break}}if(!1===e){var a=c;a.push({questionId:t._id,answers:parseInt(p)}),r(a)}else{for(var u=c,o=0;o<u.length;o++){var s=u[o];if(s.questionId===t._id){s.answers=parseInt(p);break}}r(u)}}),[p]);var f=function(e){i(e.target.value)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"bg-white my-2 mx-2 p-2 rounded-md",children:[(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsxs)("span",{children:["Q",n+1,": "]})," ",t.question]}),(0,l.jsx)("div",{children:t.options.map((function(e,t){return(0,l.jsxs)("div",{className:"my-1",children:[(0,l.jsx)("input",{type:"radio",checked:p==="".concat(t+1),value:t+1,onChange:f})," ",e]})}))})]})})},h=function(){var e,t,n=(0,i.UO)().examId,c=(0,p.I0)(),h=(0,s.VY)(),v=(0,i.s0)(),y=(0,p.v9)((function(e){return e.sendAnswer})),x=(0,p.v9)((function(e){return e.takeExam})),k=(0,o.useState)([]),m=(0,a.Z)(k,2),w=m[0],S=m[1],T=function(){var e=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("hula",w),e.next=4,c((0,f.$r)(w,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c((0,f.iM)(n));case 2:case"end":return e.stop()}}),e)}))),[]),(0,o.useEffect)((function(){console.log(x),x.loading||""!==x.error&&""===x.status&&(h.error(x.error.message),v("/home"))}),[x]),(0,o.useEffect)((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.loading){e.next=9;break}if(""!==y.error||""===y.status){e.next=8;break}return h.success("Exam Submitted Successfully."),e.next=5,c((0,f.Vf)());case 5:v("/home"),e.next=9;break;case 8:""!==y.error&&""===y.status&&h.error("Something went wrong");case 9:console.log(y);case 10:case"end":return e.stop()}}),e)}))),[y]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{children:[null===x||void 0===x||null===(e=x.status)||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e,t){return(0,l.jsx)(d,{setAnswers:S,answers:w,question:e,index:t})})),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("button",{onClick:T,className:"bg-blue-400 p-2 rounded-md text-white hover:bg-blue-600",children:"Send Answers"})})]})})}},9166:function(e,t,n){n.d(t,{$r:function(){return S},AE:function(){return j},Ag:function(){return h},F7:function(){return g},Ft:function(){return k},G:function(){return i},Ni:function(){return l},OM:function(){return v},Vf:function(){return m},Ym:function(){return y},go:function(){return d},iM:function(){return w},mB:function(){return T},md:function(){return f},un:function(){return x}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),o=n.n(u),s="";function p(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}var i=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetStudents"}),r="".concat(s,"/api/v1/searchStudent?keyword=").concat(e),{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},a=p("authToken"),t.next=7,o().post(r,{authToken:a});case 7:u=t.sent,i=u.data,n({type:"GetStudentSuccess",payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:"GetStudentFail",payload:t.t0.response.data});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetTeachers"}),r="".concat(s,"/api/v1/searchTeacher?keyword=").concat(e),a=p("authToken"),t.next=6,o().post(r,{authToken:a});case 6:u=t.sent,i=u.data,n({type:"GetTeacherSuccess",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GetTeacherFail",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetStudents"}),r="".concat(s,"/api/v1/getStudentProfile/").concat(e),{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},t.next=6,o().get(r);case 6:a=t.sent,u=a.data,n({type:"GetStudentSuccess",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GetStudentFail",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireGetStudents"}),n="".concat(s,"/api/v1/showStudents"),r=p("authToken"),e.next=6,o().post(n,{authToken:r});case 6:a=e.sent,u=a.data,t({type:"GetStudentSuccess",payload:u}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"GetStudentFail",payload:e.t0.response.data});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireAddStudents"}),r="".concat(s,"/api/v1/addStudent/").concat(e),a=p("authToken"),{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},t.next=7,o().post(r,{authToken:a});case 7:u=t.sent,i=u.data,n({type:"AddStudentSuccess",payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:"AddStudentFail",payload:t.t0.response.data});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},v=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireGetExam"}),n=p("authToken"),r="".concat(s,"/api/v1/getExams"),e.next=6,o().post(r,{authToken:n});case 6:a=e.sent,u=a.data,t({type:"GetExamSuccess",payload:u}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"GetExamFail",payload:e.t0.response.data});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireMyExam"}),n=p("authToken"),e.next=5,o().post("".concat(s,"/api/v1/getMyExams"),{authToken:n});case 5:r=e.sent,a=r.data,t({type:"GetMyExamSuccess",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"GetMyExamFailure",payload:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t){return function(){var n=(0,r.Z)(c().mark((function n(r){var a,u,i,f;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"RequireCreateExam"}),a=p("authToken"),u="".concat(s,"/api/v1/createExam"),n.next=6,o().post(u,{startDate:e,endDate:t,authToken:a},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:i=n.sent,f=i.data,r({type:"CreateExamSuccess",payload:f}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:"CreateExamFailure",payload:n.t0.response.data});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},k=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"clearCreateExam"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"clearSendAnswer"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireTakeExam"}),r=p("authToken"),a="".concat(s,"/api/v1/takeExam/").concat(e),t.next=6,o().post(a,{authToken:r},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:u=t.sent,i=u.data,n({type:"TakeExamSuccess",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"TakeExamFailure",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e,t){return function(){var n=(0,r.Z)(c().mark((function n(r){var a,u,i,f;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"RequireSendAnswers"}),a="".concat(s,"/api/v1/getAnswers/").concat(t),u=p("authToken"),n.next=6,o().post(a,{answers:e,authToken:u},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:i=n.sent,f=i.data,r({type:"SendAnswerSuccess",payload:f}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:"SendAnswerFailure",payload:n.t0.response.data});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireCalScore"}),r=p("authToken"),a="".concat(s,"/api/v1/calculateScore/").concat(e),t.next=6,o().post(a,{authToken:r},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:u=t.sent,i=u.data,n({type:"CalScoreSuccess",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"CalScoreFailure",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetScore"}),r="".concat(s,"/api/v1/getScore/").concat(e),a=p("authToken"),t.next=6,o().post(r,{authToken:a},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:u=t.sent,i=u.data,n({type:"GetScoreSuccess",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GetScoreFailure",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetScore"}),r="".concat(s,"/api/v1/getMyScore/").concat(e),a=p("authToken"),t.next=6,o().post(r,{authToken:a},{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"});case 6:u=t.sent,i=u.data,n({type:"GetScoreSuccess",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GetScoreFailure",payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=749.b59bf89d.chunk.js.map
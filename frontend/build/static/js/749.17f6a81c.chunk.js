"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[749],{3749:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5861),a=n(885),c=n(7757),u=n.n(c),o=n(2791),s=n(810),i=n(6030),p=n(6871),f=n(8319),d=n(184),l=function(e){var t=e.question,n=e.index,r=e.setAnswers,c=e.answers,u=(0,o.useState)(""),s=(0,a.Z)(u,2),i=s[0],p=s[1];(0,o.useEffect)((function(){console.log(i);for(var e=!1,n=0;n<c.length;n++){if(c[n].questionId===t._id){e=!0;break}}if(!1===e){var a=c;a.push({questionId:t._id,answers:parseInt(i)}),r(a)}else{for(var u=c,o=0;o<u.length;o++){var s=u[o];if(s.questionId===t._id){s.answers=parseInt(i);break}}r(u)}}),[i]);var f=function(e){p(e.target.value)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"bg-white my-2 mx-2 p-2 rounded-md",children:[(0,d.jsxs)("div",{className:"my-2",children:[(0,d.jsxs)("span",{children:["Q",n+1,": "]})," ",t.question]}),(0,d.jsx)("div",{children:t.options.map((function(e,t){return(0,d.jsxs)("div",{className:"my-1",children:[(0,d.jsx)("input",{type:"radio",checked:i==="".concat(t+1),value:t+1,onChange:f})," ",e]})}))})]})})},v=function(){var e,t,n=(0,p.UO)().examId,c=(0,i.I0)(),v=(0,s.VY)(),h=(0,p.s0)(),y=(0,i.v9)((function(e){return e.sendAnswer})),x=(0,i.v9)((function(e){return e.takeExam})),k=(0,o.useState)([]),m=(0,a.Z)(k,2),w=m[0],S=m[1],g=function(){var e=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("hula",w),e.next=4,c((0,f.$r)(w,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c((0,f.iM)(n));case 2:case"end":return e.stop()}}),e)}))),[]),(0,o.useEffect)((function(){console.log(x),x.loading||""!==x.error&&""===x.status&&(v.error(x.error.message),h("/home"))}),[x]),(0,o.useEffect)((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.loading){e.next=9;break}if(""!==y.error||""===y.status){e.next=8;break}return v.success("Exam Submitted Successfully."),e.next=5,c((0,f.Vf)());case 5:h("/home"),e.next=9;break;case 8:""!==y.error&&""===y.status&&v.error("Something went wrong");case 9:console.log(y);case 10:case"end":return e.stop()}}),e)}))),[y]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{children:[null===x||void 0===x||null===(e=x.status)||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e,t){return(0,d.jsx)(l,{setAnswers:S,answers:w,question:e,index:t})})),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("button",{onClick:g,className:"bg-blue-400 p-2 rounded-md text-white hover:bg-blue-600",children:"Send Answers"})})]})})}},8319:function(e,t,n){n.d(t,{Ag:function(){return E},mB:function(){return C},Ft:function(){return F},Vf:function(){return A},un:function(){return Z},OM:function(){return G},Ym:function(){return q},go:function(){return b},F7:function(){return I},AE:function(){return M},Ni:function(){return T},G:function(){return S},md:function(){return g},$r:function(){return R},iM:function(){return j}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),o=n.n(u),s="",i={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},p=function(e,t){return o().post("".concat(s,"/api/v1/searchStudent?keyword=").concat(t),e)},f=function(e,t){return o().post("".concat(s,"/api/v1/searchTeacher?keyword=").concat(t),e)},d=function(e){return o().get("".concat(s,"/api/v1/getStudentProfile/").concat(e))},l=function(e,t){return o().post("".concat(s,"/api/v1/addStudent/").concat(t),e)},v=function(e){return o().post("".concat(s,"/api/v1/createExam"),e,i)},h=function(e,t){return o().post("".concat(s,"/api/v1/takeExam/").concat(t),e,i)},y=function(e,t){return o().post("".concat(s,"/api/v1/getAnswers/").concat(t),e,i)},x=function(e,t){return o().post("".concat(s,"/api/v1/calculateScore/").concat(t),e,i)},k=function(e,t){return o().post("".concat(s,"/api/v1/getScore/").concat(t),e,i)},m=function(e,t){return o().post("".concat(s,"/api/v1/getMyScore/").concat(t),e,i)};function w(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}var S=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetStudents"}),r=w("authToken"),t.next=5,p({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"GetStudentSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GetStudentFail",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetTeachers"}),r=w("authToken"),t.next=5,f({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"GetTeacherSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GetTeacherFail",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetStudents"}),t.next=4,d(e);case 4:r=t.sent,a=r.data,console.log(a),n({type:"GetStudentSuccess",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GetStudentFail",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireGetStudents"}),n=w("authToken"),e.next=5,c={authToken:n},o().post("".concat(s,"/api/v1/showStudents"),c);case 5:r=e.sent,a=r.data,t({type:"GetStudentSuccess",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"GetStudentFail",payload:e.t0.response.data});case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireAddStudents"}),r=w("authToken"),t.next=5,l({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"AddStudentSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"AddStudentFail",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},G=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireGetExam"}),n=w("authToken"),e.next=5,c={authToken:n},o().post("".concat(s,"/api/v1/getExams"),c);case 5:r=e.sent,a=r.data,t({type:"GetExamSuccess",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"GetExamFail",payload:e.t0.response.data});case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},q=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RequireMyExam"}),n=w("authToken"),e.next=5,c={authToken:n},o().post("".concat(s,"/api/v1/getMyExams"),c);case 5:r=e.sent,a=r.data,t({type:"GetMyExamSuccess",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"GetMyExamFailure",payload:e.t0.response.data});case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(e,t){return function(){var n=(0,r.Z)(c().mark((function n(r){var a,u,o,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"RequireCreateExam"}),a=w("authToken"),u={startDate:e,endDate:t,authToken:a},n.next=6,v(u);case 6:o=n.sent,s=o.data,r({type:"CreateExamSuccess",payload:s}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:"CreateExamFailure",payload:n.t0.response.data});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},F=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"clearCreateExam"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){return function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"clearSendAnswer"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireTakeExam"}),r=w("authToken"),t.next=5,h({authToken:r,id:e},e);case 5:a=t.sent,u=a.data,n({type:"TakeExamSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"TakeExamFailure",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e,t){return function(){var n=(0,r.Z)(c().mark((function n(r){var a,u,o,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"RequireSendAnswers"}),a=w("authToken"),u={answers:e,authToken:a},n.next=6,y(u,t);case 6:o=n.sent,s=o.data,r({type:"SendAnswerSuccess",payload:s}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:"SendAnswerFailure",payload:n.t0.response.data});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireCalScore"}),r=w("authToken"),t.next=5,x({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"CalScoreSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"CalScoreFailure",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetScore"}),r=w("authToken"),t.next=5,k({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"GetScoreSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GetScoreFailure",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"RequireGetScore"}),r=w("authToken"),t.next=5,m({authToken:r},e);case 5:a=t.sent,u=a.data,n({type:"GetScoreSuccess",payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GetScoreFailure",payload:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=749.17f6a81c.chunk.js.map